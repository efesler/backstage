## API Report File for "@backstage/plugin-permission-backend"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { AuthorizeResult } from '@backstage/permission-common';
import { BackstageIdentity } from '@backstage/plugin-auth-backend';
import { Config } from '@backstage/config';
import { DefinitiveAuthorizeResult } from '@backstage/permission-common';
import express from 'express';
import { Logger as Logger_2 } from 'winston';
import { OpaqueAuthorizeRequest } from '@backstage/permission-common';
import { PermissionCondition } from '@backstage/permission-common';
import { PermissionCriteria } from '@backstage/permission-common';
import { PermissionRule } from '@backstage/permission-common';
import { Router } from 'express';

// Warning: (ae-missing-release-tag) "AllowAllPermissionHandler" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export class AllowAllPermissionHandler implements PermissionHandler {
  // (undocumented)
  handle(
    _request: OpaqueAuthorizeRequest,
    _user?: BackstageIdentity,
  ): Promise<HandlerResult>;
}

// Warning: (ae-missing-release-tag) "ConditionalHandlerResult" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export type ConditionalHandlerResult = {
  result: AuthorizeResult.MAYBE;
  conditions: {
    pluginId: string;
    resourceType: string;
    conditions: PermissionCriteria<PermissionCondition>;
  };
};

// Warning: (ae-missing-release-tag) "conditionFor" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export const conditionFor: <TParams extends any[]>(
  rule: PermissionRule<any, any, TParams>,
) => (...params: TParams) => {
  rule: string;
  params: TParams;
};

// Warning: (ae-missing-release-tag) "createPermissionIntegration" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export const createPermissionIntegration: <
  TResource,
  TRules extends {
    [key: string]: PermissionRule<TResource, any, any>;
  },
  TGetResourceParams extends any[] = [],
>({
  pluginId,
  resourceType,
  rules,
  getResource,
}: {
  pluginId: string;
  resourceType: string;
  rules: TRules;
  getResource: (
    resourceRef: string,
    ...params: TGetResourceParams
  ) => Promise<TResource | undefined>;
}) => {
  createPermissionIntegrationRouter: (...params: TGetResourceParams) => Router;
  toQuery: (
    conditions: PermissionCriteria<PermissionCondition>,
  ) => PermissionCriteria<QueryType<TRules>>;
  conditions: Conditions<TRules>;
  createConditions: (conditions: PermissionCriteria<PermissionCondition>) => {
    pluginId: string;
    resourceType: string;
    conditions: PermissionCriteria<PermissionCondition>;
  };
  registerPermissionRule: (
    rule: PermissionRule<TResource, QueryType<TRules>, any>,
  ) => void;
};

// Warning: (ae-missing-release-tag) "createRouter" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function createRouter(options: RouterOptions): Promise<express.Router>;

// Warning: (ae-missing-release-tag) "HandlerResult" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export type HandlerResult =
  | DefinitiveAuthorizeResult
  | ConditionalHandlerResult;

// Warning: (ae-missing-release-tag) "PermissionHandler" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface PermissionHandler {
  // (undocumented)
  handle(
    request: OpaqueAuthorizeRequest,
    user?: BackstageIdentity,
  ): Promise<HandlerResult>;
}

// Warning: (ae-missing-release-tag) "RouterOptions" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface RouterOptions {
  // (undocumented)
  config: Config;
  // (undocumented)
  logger: Logger_2;
  // (undocumented)
  permissionHandler: PermissionHandler;
}

// Warnings were encountered during analysis:
//
// src/integration/createPermissionIntegration.d.ts:22:5 - (ae-forgotten-export) The symbol "QueryType" needs to be exported by the entry point index.d.ts
// src/integration/createPermissionIntegration.d.ts:23:5 - (ae-forgotten-export) The symbol "Conditions" needs to be exported by the entry point index.d.ts

// (No @packageDocumentation comment for this package)
```
